#We're factoring from M3, M5, M7, . . . , M41

#This program factors up to about Prime # 4423 before the computer bogs up.
#MP 4423: 28554254222827961390156356610216400832616423864470288919924745660228440039060065387595457150553984323975
#451391589615029787839937705607143516974722110798879119820098847753133921428277201605900990458668625498908481573542248040902234
#429758835252600438389063261612407631738741688114859248618836187390417578314569601691957439076559828018859903557844859107768367
#7175520434074287726578006266759615970759521327828555662781678385691581844436444812511562428136742490459363212810180276096088111401
#003377570363545725120924073646921576797146199387619296560302680261790118132925012323046444438622308877924609373773012481681672424
#493674474488537770155783006880852648161513067144814790288366664062257274665275787127374649231096375001170901890786263324619578795
#73142569380507305611967758033808433338198750090296883193591309526982131114132239335649017848872898228815628260081383129614366384
#5945431144043753821542871277745606447858564159213328443580206422714694913091762716447041689678070096773590429808909616750452927
#2580008435003448316282970899027286499819943876472345742762637296948483047509171741861811306885187927486226122933413689280566343844
#6664632657247616727566083910565052897571389932021112149579531142794625455330538706782106760176875097786610046001460213840844802122
#5053689054793742003095722096732954750721718115531871310231057902608580607

#Yup, all one number

def ll_test(number):
    s = 4
    m = ((2 ** number) - 1)
    for i in range(number - 2):
        s = ((s * s) - 2) % m
    return s == 0

def basic_primality_test(number):
    if (number % 2) is 0:
        return number is 2
    if (number is 2):
        return True #have to account for fact lltest only works on odd primes
    elif (number <= 1):
        return False
    elif (number % 2 is 0):
        return False
    else:
        for x in range(3, (int(number**0.5) + 1), 2):
            if ((number % x) is 0):
                return False
        return True

def runProgram():
    print('Finding Mersenne primes!!')    
    for i in range(3, 2000000000, 2): 
        if basic_primality_test(i) and ll_test(i):
            print('Mersenne Prime ' + str(i) + ': ' + str(2 ** i - 1))
    
if __name__ == '__main__':
    runProgram()
